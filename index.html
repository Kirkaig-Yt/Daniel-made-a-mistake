<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <link rel="shortcut icon" type="image/png" href="favicon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Daniel Makes Mistakes</title>
    <style>
        .title {
            font-size: 25px;
            text-decoration: underline;
            text-align: center;
            color: white;
        }
        .subtitle {
            font-size: 20px;
            text-align: center;
            color: white;
        }
        .mistakes-container {
            text-align: center;
        }
        .mistakes {
            display: inline-block;
            text-align: left;
            max-width: 90%;
            line-height: 50px;
            font-size: 16px;
            color: white;
            margin: 20px auto;
            padding: 10px;
        }
        .comment-header {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            margin-bottom: 4px;
        }
        .comments {
            color: white;
            max-width: 70%;
            margin: 0 auto;
            padding: 20px;
            background-color: black;
            border-radius: 5px;
        } 
        .author {
            font-weight: bold;
            font-size: 14px;
            color: white;
        }
        .comment {
            margin-bottom: 20px;
            border-bottom: 1px solid white;
            padding-bottom: 10px;
        }
        .comment-text {
            color: white;
            font-size: 12px;
        }
        .center {
            margin: 0;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transform: translate(-6px, -1px);
        }
        /* container for the like/dislike buttons */
        .container {
            left: 100%;
            transform: translateX(-70px);
            height: 14px;
            width: 60px;
            position: relative;
        }
        /* like/dislike buttons and points text */
        .comment-points {
            font-size: 14px;
            position: relative;
            text-align: center;
            left: 0px;
        }
        .like-button {
            position: relative;
            float: left;
            left: 0px;
            margin: 0;
            cursor: pointer;
        }

        .like-button .like-hoverImg {
            position: absolute;
            left: 0;
            top: 0;
            display: none;
        }

        .like-button:hover .like-hoverImg {
            display: block;
        }

        .like-button:hover .like-hoverImg {
            display: block;
        }
        /* the container for writing new comments */
        .new-comments {
            position: relative;
            transform: translate(0px, 20px);
        }
        .dislike-button {
            position: relative;
            float: left;
            margin: 0;
            left: 50px;
            cursor: pointer;
        }

        .dislike-button .dislike-hoverImg {
            position: absolute;
            left: 0;
            top: 0;
            display: none;
        }

        .dislike-button:hover .dislike-hoverImg {
            display: block;
        }

        .dislike-button:hover .dislike-hoverImg {
            display: block;
        }
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: black;
        }
        p {
            margin: 0;
        }
    </style>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-D8G1GTJLQW"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'G-D8G1GTJLQW');
    </script>
</head>
<body>
    <h1 class="title">
        Daniel makes mistakes
    </h1>
    <p class="subtitle">Stay updated for Daniel's latest mistakes</p>
    <div class="mistakes-container">
        <ol class="mistakes">
            <li>Giving me access to a computer</li>
            <li>Thinking sardines are as small as anchovies</li>
            <li><a href="trolley_problem.html">Giving me this trolley problem</a></li>
            <li>Constantly letting people sleep in class</li>
        </ol>
    </div>
    <div class="comments">
        <h2>Comments</h2>
        <div class="comment">
            <div class="comment-header">
                <span class="author">John Doe:</span>
                <span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
            </div>
            <span class="comment-text">This is a great article!</span>
            <div class="container">
                <div class="like-button">
                    <div class="imageInn">
                      <img src="resources/like_clicked.png" style="height: 14px;" alt="Default Image">
                    </div>
                    <div class="like-hoverImg">
                      <img src="resources/like_clicked.png" style="height: 14px;" alt="Profile Image" onclick="alert('buttons do not currently do anything yet, the single developer working on this does not get paid')">
                    </div>
                </div>
                <span class="comment-points" style="color: red;">69k</span>
                <div class="dislike-button">
                    <div class="imageInn">
                      <img src="resources/dislike.png" style="height: 14px;" alt="Default Image">
                    </div>
                    <div class="dislike-hoverImg">
                      <img src="resources/dislike_clicked.png" style="height: 14px;" alt="Profile Image" onclick="alert('buttons do not currently do anything yet, the single developer working on this does not get paid')">
                    </div>
                </div>            
            </div>
        </div>
        <div class="comment">
            <div class="comment-header">
                <span class="author">Daniel *****:</span>
                <span class="stars">‚≠ê</span>
            </div>
            <span class="comment-text">This is a breach of privacy!üò• Good job on the comments though, that gets you 1 star.</span>
            <!-- Move the button here -->
            <div class="container">
                <div class="like-button">
                    <div class="imageInn">
                      <img src="resources/like.png" style="height: 14px;" alt="Default Image">
                    </div>
                    <div class="like-hoverImg">
                      <img src="resources/like_clicked.png" style="height: 14px;" alt="Profile Image" onclick="alert('buttons do not currently do anything yet, the single developer working on this does not get paid')">
                    </div>
                </div>
                <span class="comment-points" style="color: blue;">-420</span>
                <div class="dislike-button">
                    <div class="imageInn">
                      <img src="resources/dislike_clicked.png" style="height: 14px;" alt="Default Image">
                    </div>
                    <div class="dislike-hoverImg">
                      <img src="resources/dislike_clicked.png" style="height: 14px;" alt="Profile Image" onclick="alert('buttons do not currently do anything yet, the single developer working on this does not get paid')">
                    </div>
                </div>            
            </div>
        </div>
        <p class="comment-text"><i>The server is not currently up so comments will not be processed, please be patient.
            <br>Talk to our underpaid support staff 
            <a href="mailto:danielmistakes@gmail.com" target="_blank">@danielmistakes@gmail.com
            </a></a></i></p>
        <!-- new comments -->
        <form id="commentForm" class="new-comments"
        style="width: 50px;">
            <input type="text" id="author" placeholder="Your name" required>
            <textarea id="commentText" placeholder="Your comment" required style="width: 250px;"></textarea>
            <button type="submit" style="position: relative; top: 10px; width: 100px; height: 30px;">Submit</button>
        </form>
    </div> 
       <!-- the following script was made by copilot and needs to be reviewed -->
    <script>
    document.getElementById('commentForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const author = document.getElementById('author').value;
        const commentText = document.getElementById('commentText').value;

        fetch('/add-comment', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ author, commentText })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                // Add the new comment to the comments section
                const commentsDiv = document.querySelector('.comments');
                const newComment = document.createElement('div');
                newComment.classList.add('comment');
                newComment.innerHTML = `
                    <div class="comment-header">
                        <span class="author">${author}:</span>
                    </div>
                    <span class="comment-text">${commentText}</span>
                `;
                commentsDiv.appendChild(newComment);
            }
        });
    });
</script>
</body>
</html>
