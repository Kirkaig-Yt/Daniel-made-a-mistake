<!DOCTYPE html>
<html lang="en">
<head>
    npm install express body-parser
    node server.js
    <link rel="shortcut icon" type="image/png" href="favicon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>manwhomakesmistakes.com</title>
    <style>
        .like-right-side {
            margin: 0;
            position: absolute;
            left: 85%;
        }
        .dislike-right-side {
            margin: 0;
            position: absolute;
            left: 100%;
        }
        .container {
            height: 12px;
            position: relative;
        }
        .center {
            margin: 0;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transform: translate(-6px, -1px);
        }
        .mistakes {
            font-size: 16px;
            text-align: center;
            color: white;
            margin: 20px;
            padding: 10px;
        }
        .title {
            font-size: 25px;
            text-align: center;
            color: white;
        }
        .subtitle {
            font-size: 20px;
            text-align: center;
            color: white;
        }
        .comment-header {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            margin-bottom: 4px;
        }
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: black;
        }
        .comments {
            color: white;
            border: 2px solid black;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: black;
            border-radius: 5px;
        }
        .comment {
            margin-bottom: 20px;
            border-bottom: 1px solid white;
            padding-bottom: 10px;
        }
        .comment-text {
            color: white;
        }
        .author {
            font-weight: bold;
            color: white;
        }
        p {
            margin: 0;
        }
    </style>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-D8G1GTJLQW"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'G-D8G1GTJLQW');
    </script>
</head>
<body>
    <h1 class="title">Daniel makes mistakes</h1>
    <p class="subtitle">Stay updated for a list of Daniel's mistakes</p>
    <p> </p>
    <p class="mistakes">1. Giving me access to a computer</p>
    <p class="mistakes">2. Thinking sardines are as small as anchovies</p>
    <p> </p>
    <div class="comments">
        <form id="commentForm">
            <input type="text" id="author" placeholder="Your name" required>
            <textarea id="commentText" placeholder="Your comment" required></textarea>
            <button type="submit">Submit</button>
        </form>
        <h2>Comments</h2>
        <div class="comment">
            <div class="comment-header">
                <span class="author">John Doe:</span>
                <span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
            </div>
            <span class="comment-text">This is a great article!</span>
            <div class="container">
                <img src="resources/like.png" style="width: 14px; height: 14px;" alt="Like_Button" class="like-right-side" onclick="alert('like button was pressed')">
                <img src="resources/dislike.png" style="width: 14px; height: 14px;" alt="Dislike_Button" class="dislike-right-side" onclick="alert('dislike button was pressed')">
            </div>
        </div>
        <div class="comment">
            <div class="comment-header">
                <span class="author">Daniel *****:</span>
                <span class="stars">‚≠ê</span>
            </div>
            <span class="comment-text">This is a breach of privacy!üò• Good job on the comments though, that gets you 1 star.</span>
            <!-- Move the button here -->
            <div class="container">
                <img src="resources/like.png" style="width: 14px; height: 14px;" alt="Like_Button" class="like-right-side" onclick="alert('like button was pressed')">
                <img src="resources/dislike.png" style="width: 14px; height: 14px;" alt="Dislike_Button" class="dislike-right-side" onclick="alert('dislike button was pressed')">
            </div>
        </div>
    </div>    
    <script>
    document.getElementById('commentForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const author = document.getElementById('author').value;
        const commentText = document.getElementById('commentText').value;

        fetch('/add-comment', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ author, commentText })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                // Add the new comment to the comments section
                const commentsDiv = document.querySelector('.comments');
                const newComment = document.createElement('div');
                newComment.classList.add('comment');
                newComment.innerHTML = `
                    <div class="comment-header">
                        <span class="author">${author}:</span>
                    </div>
                    <span class="comment-text">${commentText}</span>
                `;
                commentsDiv.appendChild(newComment);
            }
        });
    });
</script>
</body>
</html>
